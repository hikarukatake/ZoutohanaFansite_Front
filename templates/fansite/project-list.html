<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>企画一覧</title>
    <link rel="stylesheet" th:href="@{/css/main.css}" href="../css/main.css">
    <link rel="stylesheet" th:href="@{/css/fansite/project-list.css}" href="../css/fansite/project-list.css">
</head>

<body>
    <div class="container">
        <div th:replace="~{layout :: header}"></div>

        <div class="breadcrumb-box">
            <div class="breadcrumb"><a th:href="@{/}">ホーム</a></div>
            <div class="breadcrumb-middle">></div>
            <div class="breadcrumb">企画一覧</div>
        </div>
        <div class="list-box">
            <div class="list-title">
                <h2>Projects</h2>
                <div class="list-border"></div>
            </div>
            <p>企画一覧</p>
        </div>
        <section class="projects-box">
            <div class="tab-wrapper">
                <a class="a-text" th:href="@{/projects(s=${'ongoing'})}">
                    <div class="tab" th:classappend="${status ? 'active' : ''}">
                        開催中
                        <span th:if="${status}" class="marker"></span>
                    </div>
                </a>
                <a class="a-text" th:href="@{/projects(s=${'past'})}">
                    <div class="tab" th:classappend="${!status ? 'active' : ''}">
                        過去の企画
                        <span th:unless="${status}" class="marker"></span>
                    </div>
                </a>
            </div>
            <div class="card-box">
                <div class="card" th:each="project : ${projects}">
                    <a th:href="@{/project/{urlKey}(urlKey = ${project.urlKey})}" href="" class="a-text">
                        <div class="card-image-wrapper">
                            <div th:text="${project.name}" th:style="'background-color: ' + ${project.themeColor.getDbValue()}" class="badge">文庫X 2.0</div>
                            <img th:if="${project.mainImgUrl == null}" th:src="@{/img/img.png}" alt="商品画像">
                            <img th:unless="${project.mainImgUrl == null}" th:src="@{|/api/image/${project.mainImgUrl}|}">
                        </div>
                        <div class="card-content">
                            <div class="date-row">
                                <span class="date-label">開催期間</span>
                                <span th:text="${#temporals.format(project.projectStartAt, 'yyyy.MM.dd') + ' - ' + #temporals.format(project.projectEndAt, 'yyyy.MM.dd')}">2025.01.01 - 2025.01.01</span>
                            </div>
                            <p th:text="${project.introduction}" class="description">
                                文庫Xとは、書店員が「読んでほしい」と思った1冊を、タイトルも著者名も隠して販売するプロモーション企画です。
                                今回は第二弾です。
                            </p>
                        </div>
                        <div th:if="${status}" class="flow-situation">
                            <h2>現在</h2>
                            <p th:text="${project.projectStatus.label}" id="status-text">投稿受付前</p>
                            <h2>です</h2>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- フッター -->
        <footer class="footer-all">
            <div class="footer-menu">
                <div class="footer-top">
                    <img src="../img/象と花-白.png" style="width: 4.5rem;" alt="">
                    <p class="footer-white-text">A BOOK PROJECT</p>
                </div>
                <a href="#" class="footer-menu-item-top">
                    <p>お知らせ</p>
                    <p>></p>
                </a>
                <a href="#" class="footer-menu-item">
                    <p>企画</p>
                    <p>></p>
                </a>
                <a href="#" class="footer-menu-item">
                    <p>象と花プロジェクト</p>
                    <p>></p>
                </a>
                <a href="#" class="footer-menu-item">
                    <p>お問い合わせ</p>
                    <p>></p>
                </a>
                <a href="#" class="footer-menu-item">
                    <p>サイトのご利用について</p>
                    <p>></p>
                </a>
            </div>


            <!-- SNSブロック -->
            <div class="footer-sns">
                <div class="sns-box">
                    <div class="footer-sns-title">SNS</div>
                    <div class="sns-box-icons">
                        <div class="sns-icons">
                            <img src="../img/instagram.png" class="sns-icon" alt="">
                            <img src="../img/facebook.png" class="sns-icon-facebook" alt="">
                            <img src="../img/x.png" class="sns-icon-x" alt="">
                        </div>

                        <div class="sns-labels">
                            <span>Instagram</span>
                            <span>Facebook</span>
                            <span>X（旧Twitter）</span>
                        </div>
                    </div>
                </div>
                <div class="footer-line"></div>

                <div class="footer-copy">©Copylight</div>
            </div>
        </footer>


    <!-- ヘッダーモーダル -->
    <div class="overlay-menu" id="overlayMenu">
        <div class="close-btn" id="menuClose">×</div>
        <img src="../img/象と花-white-color.png" class="" style="width: 5rem;" alt="">
        <ul class="menu-list">
            <li class="menu-item">お知らせ</li>

            <li class="menu-item">企画一覧</li>

            <li class="menu-item">象と花プロジェクト</li>

            <li class="menu-item">お問い合わせ</li>

            <li class="menu-item">ログイン</li>
        </ul>
        <div class="imgs">
            <img src="../img/instagram-white.png" class="imgs-icon" alt="">
            <img src="../img/facebook-white.png" class="imgs-width" alt="">
            <img src="../img/x-white.png" class="imgs-width" alt="">
        </div>
    </div>



        <script>
            // ▼▼▼ 要素を取得 ▼▼▼
            const menuOpen = document.getElementById('menuOpen');   // ハンバーガーメニューのアイコン
            const menuClose = document.getElementById('menuClose'); // ハンバーガーメニューの閉じるボタン
            const overlayMenu = document.getElementById('overlayMenu'); // ハンバーガーメニュー本体

            const gearButton = document.querySelector('.settings-icon'); // 歯車アイコン
            const settingsModal = document.getElementById('settingsModal'); // 設定モーダル本体

            // ▼▼▼ ハンバーガーメニューの動作（既存のまま） ▼▼▼
            menuOpen.addEventListener('click', () => {
                overlayMenu.classList.add('active');
            });

            menuClose.addEventListener('click', () => {
                overlayMenu.classList.remove('active');
            });
        </script>
</body>